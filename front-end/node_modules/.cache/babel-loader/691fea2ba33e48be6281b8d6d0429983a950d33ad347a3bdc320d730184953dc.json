{"ast":null,"code":"const getCivicInfoRepByAddress = async zipCode => {\n  const backendUrl = `http://localhost:8000/api/representatives/${address}`;\n  try {\n    const response = await fetch(backendUrl);\n    if (!response.ok) {\n      throw new Error(`HTTP error. Status: ${response.status}`);\n    }\n    const data = await response.json();\n    console.log('civicInfoData:', data);\n    function extractDistrictNumber(inputString) {\n      const parts = inputString.split(\"cd:\");\n      return parts.length === 2 ? parseInt(parts[1], 10) : null;\n    }\n    const civicInfoRep = {\n      representative: {\n        name: data.officials[0].name,\n        party: data.officials[0].party,\n        urls: data.officials[0].urls,\n        channels: data.officials[0].channels\n      },\n      office: {\n        name: data.offices[0].name,\n        district: `${data.normalizedInput.state}-${extractDistrictNumber(data.offices[0].divisionId)}`\n      },\n      state: data.normalizedInput.state\n    };\n    return civicInfoRep;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return {\n      representative: {},\n      office: {},\n      state: ''\n    };\n  }\n};\nexport default getCivicInfoRepByAddress;","map":{"version":3,"names":["getCivicInfoRepByAddress","zipCode","backendUrl","address","response","fetch","ok","Error","status","data","json","console","log","extractDistrictNumber","inputString","parts","split","length","parseInt","civicInfoRep","representative","name","officials","party","urls","channels","office","offices","district","normalizedInput","state","divisionId","error"],"sources":["/Users/dbrainy/dev/politick/front-end/src/api/civicInfoApi.js"],"sourcesContent":["const getCivicInfoRepByAddress = async (zipCode) => {\n    const backendUrl = `http://localhost:8000/api/representatives/${address}`;\n\n    try {\n        const response = await fetch(backendUrl);\n        if (!response.ok) {\n            throw new Error(`HTTP error. Status: ${response.status}`);\n        }\n        const data = await response.json();\n        console.log('civicInfoData:', data);\n\n        function extractDistrictNumber(inputString) {\n            const parts = inputString.split(\"cd:\");\n            return parts.length === 2 ? parseInt(parts[1], 10) : null;\n        }\n\n        const civicInfoRep = {\n            representative: {\n                name: data.officials[0].name,\n                party: data.officials[0].party,\n                urls: data.officials[0].urls,\n                channels: data.officials[0].channels,\n            },\n            office: {\n                name: data.offices[0].name,\n                district: `${data.normalizedInput.state}-${extractDistrictNumber(data.offices[0].divisionId)}`,\n            },\n            state: data.normalizedInput.state,\n        };\n        return civicInfoRep;\n\n    } catch (error) {\n        console.error('Error fetching data:', error);\n        return {\n            representative: {},\n            office: {},\n            state: '',\n        }\n    }\n};\n\nexport default getCivicInfoRepByAddress;\n"],"mappings":"AAAA,MAAMA,wBAAwB,GAAG,MAAOC,OAAO,IAAK;EAChD,MAAMC,UAAU,GAAI,6CAA4CC,OAAQ,EAAC;EAEzE,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACH,UAAU,CAAC;IACxC,IAAI,CAACE,QAAQ,CAACE,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAE,uBAAsBH,QAAQ,CAACI,MAAO,EAAC,CAAC;IAC7D;IACA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAClCC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEH,IAAI,CAAC;IAEnC,SAASI,qBAAqBA,CAACC,WAAW,EAAE;MACxC,MAAMC,KAAK,GAAGD,WAAW,CAACE,KAAK,CAAC,KAAK,CAAC;MACtC,OAAOD,KAAK,CAACE,MAAM,KAAK,CAAC,GAAGC,QAAQ,CAACH,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI;IAC7D;IAEA,MAAMI,YAAY,GAAG;MACjBC,cAAc,EAAE;QACZC,IAAI,EAAEZ,IAAI,CAACa,SAAS,CAAC,CAAC,CAAC,CAACD,IAAI;QAC5BE,KAAK,EAAEd,IAAI,CAACa,SAAS,CAAC,CAAC,CAAC,CAACC,KAAK;QAC9BC,IAAI,EAAEf,IAAI,CAACa,SAAS,CAAC,CAAC,CAAC,CAACE,IAAI;QAC5BC,QAAQ,EAAEhB,IAAI,CAACa,SAAS,CAAC,CAAC,CAAC,CAACG;MAChC,CAAC;MACDC,MAAM,EAAE;QACJL,IAAI,EAAEZ,IAAI,CAACkB,OAAO,CAAC,CAAC,CAAC,CAACN,IAAI;QAC1BO,QAAQ,EAAG,GAAEnB,IAAI,CAACoB,eAAe,CAACC,KAAM,IAAGjB,qBAAqB,CAACJ,IAAI,CAACkB,OAAO,CAAC,CAAC,CAAC,CAACI,UAAU,CAAE;MACjG,CAAC;MACDD,KAAK,EAAErB,IAAI,CAACoB,eAAe,CAACC;IAChC,CAAC;IACD,OAAOX,YAAY;EAEvB,CAAC,CAAC,OAAOa,KAAK,EAAE;IACZrB,OAAO,CAACqB,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5C,OAAO;MACHZ,cAAc,EAAE,CAAC,CAAC;MAClBM,MAAM,EAAE,CAAC,CAAC;MACVI,KAAK,EAAE;IACX,CAAC;EACL;AACJ,CAAC;AAED,eAAe9B,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}