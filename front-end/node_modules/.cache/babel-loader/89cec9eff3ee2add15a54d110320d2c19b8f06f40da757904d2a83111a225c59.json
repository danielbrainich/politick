{"ast":null,"code":"import { CIVIC_INFO_API_KEY, OPEN_SECRETS_API_KEY } from './apiKeys';\nconst getCivicInfoOfficialsByAddress = async zipCode => {\n  const apiUrl = 'https://www.googleapis.com/civicinfo/v2/representatives';\n  const params = {\n    address: zipCode,\n    includeOffices: true,\n    levels: 'country',\n    roles: ['legislatorLowerBody', 'legislatorUpperBody'],\n    key: CIVIC_INFO_API_KEY\n  };\n  const urlWithParams = `${apiUrl}?address=${params.address}&includeOffices=${params.includeOffices}&levels=${params.levels}&roles=${params.roles[0]}&roles=${params.roles[1]}&key=${params.key}`;\n  try {\n    const response = await fetch(urlWithParams);\n    if (!response.ok) {\n      throw new Error(`HTTP error. Status: ${response.status}`);\n    }\n    const data = await response.json();\n    function getOfficialIndicesByRole(offices, roleName) {\n      let OfficialIndices = null;\n      for (let office of offices) {\n        if (office.name === roleName) {\n          OfficialIndices = office.officialIndices;\n          break;\n        }\n      }\n      return OfficialIndices;\n    }\n    const indexSenator1 = getOfficialIndicesByRole(data.offices, 'U.S. Senator')[0];\n    const indexSenator2 = getOfficialIndicesByRole(data.offices, 'U.S. Senator')[1];\n    const indexRepresentative = getOfficialIndicesByRole(data.offices, 'U.S. Representative')[0];\n    return {\n      representative: data.officials[indexRepresentative],\n      senator1: data.officials[indexSenator1],\n      senator2: data.officials[indexSenator2],\n      state: data.normalizedInput.state\n    };\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return {\n      representative: {},\n      senator1: {},\n      senator2: {},\n      state: ''\n    };\n  }\n};\nconst getOpenSecretsCandidateIds = async (officialsState, representativeName, senator1Name, senator2Name) => {\n  const apiUrl = 'http://www.opensecrets.org/api/';\n  const params = {\n    method: 'getLegislators',\n    id: officialsState,\n    apiKey: OPEN_SECRETS_API_KEY,\n    output: 'json'\n  };\n  const urlWithParams = `${apiUrl}?method=${params.method}&id=${params.id}&apikey=${params.apiKey}&output=${params.output}`;\n  try {\n    const response = await fetch(urlWithParams);\n    if (!response.ok) {\n      throw new Error(`HTTP error. Status: ${response.status}`);\n    }\n    const data = await response.json();\n    function getLegislatorIdFromName(data, name) {\n      for (let legislator of data) {\n        if (legislator['@attributes'].firstlast === name) {\n          return {\n            firstlast: legislator['@attributes'].firstlast,\n            cid: legislator['@attributes'].cid\n          };\n        }\n      }\n      return null;\n    }\n    const representativeId = getLegislatorIdFromName(data.response.legislator, representativeName);\n    const senator1Id = getLegislatorIdFromName(data.response.legislator, senator1Name);\n    const senator2Id = getLegislatorIdFromName(data.response.legislator, senator2Name);\n    return {\n      representative: representativeId,\n      senator1Name: senator1Id,\n      senator2Name: senator2Id\n    };\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    return {\n      representativeId: '',\n      senator1Id: '',\n      senator2Id: ''\n    };\n  }\n};\nconst getOpenSecretCandidatesInfo = async () => {};\nexport { getCivicInfoOfficialsByAddress, getOpenSecretsCandidateIds };","map":{"version":3,"names":["CIVIC_INFO_API_KEY","OPEN_SECRETS_API_KEY","getCivicInfoOfficialsByAddress","zipCode","apiUrl","params","address","includeOffices","levels","roles","key","urlWithParams","response","fetch","ok","Error","status","data","json","getOfficialIndicesByRole","offices","roleName","OfficialIndices","office","name","officialIndices","indexSenator1","indexSenator2","indexRepresentative","representative","officials","senator1","senator2","state","normalizedInput","error","console","getOpenSecretsCandidateIds","officialsState","representativeName","senator1Name","senator2Name","method","id","apiKey","output","getLegislatorIdFromName","legislator","firstlast","cid","representativeId","senator1Id","senator2Id","getOpenSecretCandidatesInfo"],"sources":["/Users/dbrainy/dev/politick/src/api.js"],"sourcesContent":["import { CIVIC_INFO_API_KEY, OPEN_SECRETS_API_KEY } from './apiKeys';\n\nconst getCivicInfoOfficialsByAddress = async (zipCode) => {\n\n    const apiUrl = 'https://www.googleapis.com/civicinfo/v2/representatives';\n    const params = {\n        address: zipCode,\n        includeOffices: true,\n        levels: 'country',\n        roles: ['legislatorLowerBody', 'legislatorUpperBody'],\n        key: CIVIC_INFO_API_KEY,\n    };\n\n    const urlWithParams = `${apiUrl}?address=${params.address}&includeOffices=${params.includeOffices}&levels=${params.levels}&roles=${params.roles[0]}&roles=${params.roles[1]}&key=${params.key}`;\n\n    try {\n        const response = await fetch(urlWithParams);\n        if (!response.ok) {\n            throw new Error(`HTTP error. Status: ${response.status}`);\n        }\n        const data = await response.json();\n\n        function getOfficialIndicesByRole(offices, roleName) {\n            let OfficialIndices = null;\n            for (let office of offices) {\n                if (office.name === roleName) {\n                    OfficialIndices = office.officialIndices;\n                    break;\n                }\n            }\n            return OfficialIndices;\n        }\n\n        const indexSenator1 = getOfficialIndicesByRole(data.offices, 'U.S. Senator')[0];\n        const indexSenator2 = getOfficialIndicesByRole(data.offices, 'U.S. Senator')[1];\n        const indexRepresentative = getOfficialIndicesByRole(data.offices, 'U.S. Representative')[0];\n\n        return {\n            representative: data.officials[indexRepresentative],\n            senator1: data.officials[indexSenator1],\n            senator2: data.officials[indexSenator2],\n            state: data.normalizedInput.state,\n        };\n\n    } catch (error) {\n        console.error('Error fetching data:', error);\n        return {\n            representative: {},\n            senator1: {},\n            senator2: {},\n            state: '',\n        }\n    }\n};\n\nconst getOpenSecretsCandidateIds = async (officialsState, representativeName, senator1Name, senator2Name) => {\n\n    const apiUrl = 'http://www.opensecrets.org/api/'\n    const params = {\n        method: 'getLegislators',\n        id: officialsState,\n        apiKey: OPEN_SECRETS_API_KEY,\n        output: 'json',\n    }\n\n    const urlWithParams = `${apiUrl}?method=${params.method}&id=${params.id}&apikey=${params.apiKey}&output=${params.output}`;\n\n    try {\n        const response = await fetch(urlWithParams);\n        if (!response.ok) {\n            throw new Error(`HTTP error. Status: ${response.status}`);\n        }\n        const data = await response.json();\n\n        function getLegislatorIdFromName(data, name) {\n            for (let legislator of data) {\n                if (legislator['@attributes'].firstlast === name) {\n                    return {\n                        firstlast: legislator['@attributes'].firstlast,\n                        cid: legislator['@attributes'].cid,\n                    };\n                }\n            }\n            return null;\n        }\n\n        const representativeId = getLegislatorIdFromName(data.response.legislator, representativeName);\n        const senator1Id = getLegislatorIdFromName(data.response.legislator, senator1Name);\n        const senator2Id = getLegislatorIdFromName(data.response.legislator, senator2Name);\n\n        return {\n            representative: representativeId,\n            senator1Name: senator1Id,\n            senator2Name: senator2Id,\n        };\n\n    } catch (error) {\n        console.error('Error fetching data:', error);\n        return {\n            representativeId: '',\n            senator1Id: '',\n            senator2Id: '',\n        }\n    }\n\n};\n\nconst getOpenSecretCandidatesInfo = async () => {\n\n}\n\nexport { getCivicInfoOfficialsByAddress, getOpenSecretsCandidateIds };\n"],"mappings":"AAAA,SAASA,kBAAkB,EAAEC,oBAAoB,QAAQ,WAAW;AAEpE,MAAMC,8BAA8B,GAAG,MAAOC,OAAO,IAAK;EAEtD,MAAMC,MAAM,GAAG,yDAAyD;EACxE,MAAMC,MAAM,GAAG;IACXC,OAAO,EAAEH,OAAO;IAChBI,cAAc,EAAE,IAAI;IACpBC,MAAM,EAAE,SAAS;IACjBC,KAAK,EAAE,CAAC,qBAAqB,EAAE,qBAAqB,CAAC;IACrDC,GAAG,EAAEV;EACT,CAAC;EAED,MAAMW,aAAa,GAAI,GAAEP,MAAO,YAAWC,MAAM,CAACC,OAAQ,mBAAkBD,MAAM,CAACE,cAAe,WAAUF,MAAM,CAACG,MAAO,UAASH,MAAM,CAACI,KAAK,CAAC,CAAC,CAAE,UAASJ,MAAM,CAACI,KAAK,CAAC,CAAC,CAAE,QAAOJ,MAAM,CAACK,GAAI,EAAC;EAE/L,IAAI;IACA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAACF,aAAa,CAAC;IAC3C,IAAI,CAACC,QAAQ,CAACE,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAE,uBAAsBH,QAAQ,CAACI,MAAO,EAAC,CAAC;IAC7D;IACA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAElC,SAASC,wBAAwBA,CAACC,OAAO,EAAEC,QAAQ,EAAE;MACjD,IAAIC,eAAe,GAAG,IAAI;MAC1B,KAAK,IAAIC,MAAM,IAAIH,OAAO,EAAE;QACxB,IAAIG,MAAM,CAACC,IAAI,KAAKH,QAAQ,EAAE;UAC1BC,eAAe,GAAGC,MAAM,CAACE,eAAe;UACxC;QACJ;MACJ;MACA,OAAOH,eAAe;IAC1B;IAEA,MAAMI,aAAa,GAAGP,wBAAwB,CAACF,IAAI,CAACG,OAAO,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC;IAC/E,MAAMO,aAAa,GAAGR,wBAAwB,CAACF,IAAI,CAACG,OAAO,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC;IAC/E,MAAMQ,mBAAmB,GAAGT,wBAAwB,CAACF,IAAI,CAACG,OAAO,EAAE,qBAAqB,CAAC,CAAC,CAAC,CAAC;IAE5F,OAAO;MACHS,cAAc,EAAEZ,IAAI,CAACa,SAAS,CAACF,mBAAmB,CAAC;MACnDG,QAAQ,EAAEd,IAAI,CAACa,SAAS,CAACJ,aAAa,CAAC;MACvCM,QAAQ,EAAEf,IAAI,CAACa,SAAS,CAACH,aAAa,CAAC;MACvCM,KAAK,EAAEhB,IAAI,CAACiB,eAAe,CAACD;IAChC,CAAC;EAEL,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5C,OAAO;MACHN,cAAc,EAAE,CAAC,CAAC;MAClBE,QAAQ,EAAE,CAAC,CAAC;MACZC,QAAQ,EAAE,CAAC,CAAC;MACZC,KAAK,EAAE;IACX,CAAC;EACL;AACJ,CAAC;AAED,MAAMI,0BAA0B,GAAG,MAAAA,CAAOC,cAAc,EAAEC,kBAAkB,EAAEC,YAAY,EAAEC,YAAY,KAAK;EAEzG,MAAMrC,MAAM,GAAG,iCAAiC;EAChD,MAAMC,MAAM,GAAG;IACXqC,MAAM,EAAE,gBAAgB;IACxBC,EAAE,EAAEL,cAAc;IAClBM,MAAM,EAAE3C,oBAAoB;IAC5B4C,MAAM,EAAE;EACZ,CAAC;EAED,MAAMlC,aAAa,GAAI,GAAEP,MAAO,WAAUC,MAAM,CAACqC,MAAO,OAAMrC,MAAM,CAACsC,EAAG,WAAUtC,MAAM,CAACuC,MAAO,WAAUvC,MAAM,CAACwC,MAAO,EAAC;EAEzH,IAAI;IACA,MAAMjC,QAAQ,GAAG,MAAMC,KAAK,CAACF,aAAa,CAAC;IAC3C,IAAI,CAACC,QAAQ,CAACE,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAE,uBAAsBH,QAAQ,CAACI,MAAO,EAAC,CAAC;IAC7D;IACA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAElC,SAAS4B,uBAAuBA,CAAC7B,IAAI,EAAEO,IAAI,EAAE;MACzC,KAAK,IAAIuB,UAAU,IAAI9B,IAAI,EAAE;QACzB,IAAI8B,UAAU,CAAC,aAAa,CAAC,CAACC,SAAS,KAAKxB,IAAI,EAAE;UAC9C,OAAO;YACHwB,SAAS,EAAED,UAAU,CAAC,aAAa,CAAC,CAACC,SAAS;YAC9CC,GAAG,EAAEF,UAAU,CAAC,aAAa,CAAC,CAACE;UACnC,CAAC;QACL;MACJ;MACA,OAAO,IAAI;IACf;IAEA,MAAMC,gBAAgB,GAAGJ,uBAAuB,CAAC7B,IAAI,CAACL,QAAQ,CAACmC,UAAU,EAAER,kBAAkB,CAAC;IAC9F,MAAMY,UAAU,GAAGL,uBAAuB,CAAC7B,IAAI,CAACL,QAAQ,CAACmC,UAAU,EAAEP,YAAY,CAAC;IAClF,MAAMY,UAAU,GAAGN,uBAAuB,CAAC7B,IAAI,CAACL,QAAQ,CAACmC,UAAU,EAAEN,YAAY,CAAC;IAElF,OAAO;MACHZ,cAAc,EAAEqB,gBAAgB;MAChCV,YAAY,EAAEW,UAAU;MACxBV,YAAY,EAAEW;IAClB,CAAC;EAEL,CAAC,CAAC,OAAOjB,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5C,OAAO;MACHe,gBAAgB,EAAE,EAAE;MACpBC,UAAU,EAAE,EAAE;MACdC,UAAU,EAAE;IAChB,CAAC;EACL;AAEJ,CAAC;AAED,MAAMC,2BAA2B,GAAG,MAAAA,CAAA,KAAY,CAEhD,CAAC;AAED,SAASnD,8BAA8B,EAAEmC,0BAA0B"},"metadata":{},"sourceType":"module","externalDependencies":[]}